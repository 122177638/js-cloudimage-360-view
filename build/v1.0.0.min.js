/*!
 * 
 *  js-cloudimage-360-view v1.0.0
 *  https://github.com/scaleflex/js-cloudimage-360-view
 * 
 *  Copyright (c) 2019 scaleflex
 *  Released under the MIT license
 * 
 *  Date: 2019-04-07T08:38:57.832Z
 * 
 */!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=32)}([function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var n=i(9),o=i(23);e.exports=i(4)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){e.exports=!i(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(0),o=i(8),r=n["__core-js_shared__"]||o("__core-js_shared__",{});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.0",mode:i(42)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){var n=i(2);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,i){var n=i(0),o=i(3);e.exports=function(e,t){try{o(n,e,t)}catch(i){n[e]=t}return t}},function(e,t,i){var n=i(4),o=i(20),r=i(7),s=i(22),a=Object.defineProperty;t.f=n?a:function(e,t,i){if(r(e),t=s(t,!0),r(i),o)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(14),o=i(16);e.exports=function(e){return n(o(e))}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,i){var n=i(38);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(1),o=i(15),r="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,i){var n=i(18),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(6)("wks"),o=i(24),r=i(0).Symbol,s=i(43);e.exports=function(e){return n[e]||(n[e]=s&&r[e]||(s?r:o)("Symbol."+e))}},function(e,t,i){e.exports=!i(4)&&!i(1)(function(){return 7!=Object.defineProperty(i(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(2),o=i(0).document,r=n(o)&&n(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,i){var n=i(2);e.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(0),o=i(26).f,r=i(3),s=i(46),a=i(8),c=i(49),l=i(54);e.exports=function(e,t){var i,u,f,h,d,p=e.target,v=e.global,y=e.stat;if(i=v?n:y?n[p]||a(p,{}):(n[p]||{}).prototype)for(u in t){if(h=t[u],f=e.noTargetGet?(d=o(i,u))&&d.value:i[u],!l(v?u:p+(y?".":"#")+u,e.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(e.sham||f&&f.sham)&&r(h,"sham",!0),s(i,u,h,e)}}},function(e,t,i){var n=i(4),o=i(45),r=i(23),s=i(10),a=i(22),c=i(5),l=i(20),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=s(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,i){e.exports=i(6)("native-function-to-string",Function.toString)},function(e,t,i){var n=i(6)("keys"),o=i(24);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,i){var n=i(5),o=i(10),r=i(30)(!1),s=i(11);e.exports=function(e,t){var i,a=o(e),c=0,l=[];for(i in a)!n(s,i)&&n(a,i)&&l.push(i);for(;t.length>c;)n(a,i=t[c++])&&(~r(l,i)||l.push(i));return l}},function(e,t,i){var n=i(10),o=i(17),r=i(52);e.exports=function(e){return function(t,i,s){var a,c=n(t),l=o(c.length),u=r(s,l);if(e&&i!=i){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===i)return e||u||0;return!e&&-1}}},function(e,t,i){var n=i(0),o=i(13),r=Function.call;e.exports=function(e,t,i){return o(r,n[e].prototype[t],i)}},function(e,t,i){"use strict";i(33),i(55);var n,o=i(63),r=(n=o)&&n.__esModule?n:{default:n};function s(){var e=document.querySelectorAll(".cloudimage-360");[].slice.call(e).forEach(function(e){new r.default(e)})}window.CI360={init:s},s()},function(e,t,i){e.exports=i(34)},function(e,t,i){i(35),e.exports=i(31)("Array","forEach")},function(e,t,i){"use strict";var n=i(36);i(25)({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},function(e,t,i){"use strict";var n=[].forEach,o=i(37)(0),r=i(44)("forEach");e.exports=r?function(e){return o(this,e,arguments[1])}:n},function(e,t,i){var n=i(13),o=i(14),r=i(39),s=i(17),a=i(40);e.exports=function(e,t){var i=1==e,c=2==e,l=3==e,u=4==e,f=6==e,h=5==e||f,d=t||a;return function(t,a,p){for(var v,y,m=r(t),g=o(m),w=n(a,p,3),b=s(g.length),x=0,I=i?d(t,b):c?d(t,0):void 0;b>x;x++)if((h||x in g)&&(y=w(v=g[x],x,m),e))if(i)I[x]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:I.push(v)}else if(u)return!1;return f?-1:l||u?u:I}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,i){var n=i(16);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(2),o=i(41),r=i(19)("species");e.exports=function(e,t){var i;return o(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!o(i.prototype)?n(i)&&null===(i=i[r])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},function(e,t,i){var n=i(15);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t){e.exports=!1},function(e,t,i){e.exports=!i(1)(function(){String(Symbol())})},function(e,t,i){"use strict";var n=i(1);e.exports=function(e,t){var i=[][e];return!i||!n(function(){i.call(null,t||function(){throw Error()},1)})}},function(e,t,i){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,i){var n=i(0),o=i(3),r=i(5),s=i(8),a=i(27),c=i(47),l=c.get,u=c.enforce,f=String(a).split("toString");i(6)("inspectSource",function(e){return a.call(e)}),(e.exports=function(e,t,i,a){var c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||r(i,"name")||o(i,"name",t),u(i).source=f.join("string"==typeof t?t:"")),e!==n?(c?!h&&e[t]&&(l=!0):delete e[t],l?e[t]=i:o(e,t,i)):l?e[t]=i:s(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||a.call(this)})},function(e,t,i){var n,o,r,s=i(48),a=i(2),c=i(3),l=i(5),u=i(28),f=i(11),h=i(0).WeakMap;if(s){var d=new h,p=d.get,v=d.has,y=d.set;n=function(e,t){return y.call(d,e,t),t},o=function(e){return p.call(d,e)||{}},r=function(e){return v.call(d,e)}}else{var m=u("state");f[m]=!0,n=function(e,t){return c(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},r=function(e){return l(e,m)}}e.exports={set:n,get:o,has:r,enforce:function(e){return r(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!a(t)||(i=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},function(e,t,i){var n=i(27),o=i(0).WeakMap;e.exports="function"==typeof o&&/native code/.test(n.call(o))},function(e,t,i){var n=i(5),o=i(50),r=i(26),s=i(9);e.exports=function(e,t){for(var i=o(t),a=s.f,c=r.f,l=0;l<i.length;l++){var u=i[l];n(e,u)||a(e,u,c(t,u))}}},function(e,t,i){var n=i(51),o=i(53),r=i(7),s=i(0).Reflect;e.exports=s&&s.ownKeys||function(e){var t=n.f(r(e)),i=o.f;return i?t.concat(i(e)):t}},function(e,t,i){var n=i(29),o=i(12).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,i){var n=i(18),o=Math.max,r=Math.min;e.exports=function(e,t){var i=n(e);return i<0?o(i+t,0):r(i,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(1),o=/#|\.prototype\./,r=function(e,t){var i=a[s(e)];return i==l||i!=c&&("function"==typeof t?n(t):!!t)},s=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},function(e,t,i){e.exports=i(56)},function(e,t,i){i(57),e.exports=i(31)("Array","includes")},function(e,t,i){"use strict";var n=i(30)(!0);i(25)({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(58)("includes")},function(e,t,i){var n=i(19)("unscopables"),o=i(59),r=i(3),s=Array.prototype;null==s[n]&&r(s,n,o(null)),e.exports=function(e){s[n][e]=!0}},function(e,t,i){var n=i(7),o=i(60),r=i(12),s=i(62),a=i(21),c=i(28)("IE_PROTO"),l=function(){},u=function(){var e,t=a("iframe"),i=r.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u.prototype[r[i]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(l.prototype=n(e),i=new l,l.prototype=null,i[c]=e):i=u(),void 0===t?i:o(i,t)},i(11)[c]=!0},function(e,t,i){var n=i(4),o=i(9),r=i(7),s=i(61);e.exports=n?Object.defineProperties:function(e,t){r(e);for(var i,n=s(t),a=n.length,c=0;a>c;)o.f(e,i=n[c++],t[i]);return e}},function(e,t,i){var n=i(29),o=i(12);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,i){var n=i(0).document;e.exports=n&&n.documentElement},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(64);var r=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.activeImage=1,this.previousActiveImage=1,this.movementStart=0,this.isClicked=!1,this.loadedImages=0,this.imagesLoaded=!1,this.reversed=!1,this.fullScreenView=!!i,this.ratio=n,this.init(t)}return n(e,[{key:"mousedown",value:function(e){e.preventDefault(),this.imagesLoaded&&(this.glass&&this.closeMagnifier(),this.view360Icon&&this.remove360ViewIcon(),this.autoplay&&(this.stop(),this.autoplay=!1),this.movementStart=e.pageX,this.isClicked=!0,this.container.style.cursor="grabbing")}},{key:"mouseup",value:function(){this.imagesLoaded&&(this.movementStart=0,this.isClicked=!1,this.container.style.cursor="grab",this.bottomCircle&&this.show360ViewCircleIcon())}},{key:"mousemove",value:function(e){this.isClicked&&this.imagesLoaded&&this.onMove(e.pageX)}},{key:"touchstart",value:function(e){this.imagesLoaded&&(this.glass&&this.closeMagnifier(),this.view360Icon&&this.remove360ViewIcon(),this.autoplay&&(this.stop(),this.autoplay=!1),e.preventDefault(),this.movementStart=e.touches[0].clientX,this.isClicked=!0)}},{key:"touchend",value:function(){this.imagesLoaded&&(this.movementStart=0,this.isClicked=!1,this.bottomCircle&&this.show360ViewCircleIcon())}},{key:"touchmove",value:function(e){this.isClicked&&this.imagesLoaded&&this.onMove(e.touches[0].clientX)}},{key:"keydownGeneral",value:function(){this.imagesLoaded&&this.glass&&this.closeMagnifier()}},{key:"keydown",value:function(e){var t=this;if(this.imagesLoaded&&(this.glass&&this.closeMagnifier(),-1!==[37,39].indexOf(e.keyCode))){var i=37===e.keyCode;i?this.prev():this.next(),this.bottomCircle&&this.hide360ViewCircleIcon(),this.view360Icon&&this.remove360ViewIcon(),this.autoplay&&(this.stop(),this.autoplay=!1),this.loopTimeoutId=window.setTimeout(function(){t.loop(i)},300)}}},{key:"keyup",value:function(e){this.imagesLoaded&&-1!==[37,39].indexOf(e.keyCode)&&(this.bottomCircle&&this.show360ViewCircleIcon(),window.clearTimeout(this.loopTimeoutId))}},{key:"onMove",value:function(e){if(e-this.movementStart>this.speedFactor){var t=Math.floor((event.pageX-this.movementStart)/this.speedFactor)||1;this.movementStart=e,this.previousActiveImage=this.activeImage,this.activeImage=(this.activeImage+t)%this.amount||1,this.bottomCircle&&this.hide360ViewCircleIcon(),this.update(this.activeImage)}else if(e-this.movementStart<=-this.speedFactor){var i=Math.abs(Math.floor((e-this.movementStart)/this.speedFactor))||1;this.movementStart=e,this.previousActiveImage=this.activeImage,this.activeImage-i<1?this.activeImage=this.amount+(this.activeImage-i):this.activeImage=this.activeImage-i,this.bottomCircle&&this.hide360ViewCircleIcon(),this.update(this.activeImage)}}},{key:"loop",value:function(e){e?this.prev():this.next()}},{key:"next",value:function(){this.previousActiveImage=this.activeImage,this.activeImage=this.activeImage%this.amount+1,this.update(this.activeImage)}},{key:"prev",value:function(){this.previousActiveImage=this.activeImage,this.activeImage-1==0?this.activeImage=this.amount:this.activeImage-=1,this.update(this.activeImage)}},{key:"update",value:function(e){var t=this.container.children[this.previousActiveImage-1],i=this.container.children[e-1];t.style.display="none",i.style.display="block"}},{key:"onImageLoad",value:function(){this.loadedImages+=1;var e=Math.round(this.loadedImages/this.amount*100);if(this.loader.style.width=e+"%",this.view360Icon&&(this.view360Icon.innerText=e+"%"),this.loadedImages===this.amount){if(this.imagesLoaded=!0,this.container.style.cursor="grab",this.removeLoader(),this.fullScreenView){var t=this.container.offsetHeight/this.container.offsetWidth,i=this.container.offsetWidth;this.ratio>t&&(i=this.container.offsetHeight/this.ratio),this.speedFactor=Math.floor(36/this.amount*25*i/1500)||1}else this.speedFactor=Math.floor(36/this.amount*25*this.container.offsetWidth/1500)||1;this.autoplay&&this.play(),this.view360Icon&&(this.view360Icon.innerText="",(0,o.setView360Icon)(this.view360Icon))}else 1===this.loadedImages&&(this.add360ViewIcon(),this.ratio&&(this.container.style.minHeight="auto"),this.magnifier&&!this.fullScreenView&&this.addMagnifier(),this.boxShadow&&!this.fullScreenView&&this.addBoxShadow(),this.bottomCircle&&!this.fullScreenView&&this.add360ViewCircleIcon(),this.fullScreen&&!this.fullScreenView?this.addFullScreenIcon():this.fullScreenView&&this.addCloseFullScreenView())}},{key:"addCloseFullScreenView",value:function(){var e=document.createElement("div");(0,o.setCloseFullScreenViewStyles)(e),e.onclick=this.closeFullScreenModal.bind(this),this.container.appendChild(e)}},{key:"add360ViewIcon",value:function(){var e=document.createElement("div");(0,o.set360ViewIconStyles)(e),e.innerText="0%",this.view360Icon=e,this.container.appendChild(e)}},{key:"addFullScreenIcon",value:function(){var e=document.createElement("div");(0,o.setFullScreenIconStyles)(e),e.onclick=this.openFullScreenModal.bind(this),this.container.appendChild(e)}},{key:"addMagnifier",value:function(){var e=document.createElement("div");(0,o.setMagnifyIconStyles)(e,this.fullScreen),e.onclick=this.magnify.bind(this),this.container.appendChild(e)}},{key:"magnify",value:function(){var e=this,t=""+this.folder+this.filename.replace("{index}",this.activeImage),i=new Image;i.src=t,i.onload=function(){e.glass&&(e.glass.style.cursor="none")},this.glass=document.createElement("div"),this.container.style.overflow="hidden",(0,o.magnify)(this.container,this.container.children[this.activeImage],t,this.glass,this.magnifier||3)}},{key:"closeMagnifier",value:function(){this.glass&&(this.container.style.overflow="visible",this.container.removeChild(this.glass),this.glass=null)}},{key:"openFullScreenModal",value:function(){var t=document.createElement("div");(0,o.setFullScreenModalStyles)(t);var i=this.container.cloneNode(),n=this.container.children[0],r=n.height/n.width;i.style.height="100%",i.style.maxHeight="100%",t.appendChild(i),window.document.body.appendChild(t),new e(i,!0,r)}},{key:"closeFullScreenModal",value:function(){document.body.removeChild(this.container.parentNode)}},{key:"add360ViewCircleIcon",value:function(){var e=new Image;(0,o.set360ViewCircleIconStyles)(e,this.bottomCircleOffset),this.view360CircleIcon=e,this.container.appendChild(e)}},{key:"hide360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity=0)}},{key:"show360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity=1)}},{key:"remove360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.container.removeChild(this.view360CircleIcon),this.view360CircleIcon=null)}},{key:"addLoader",value:function(){var e=document.createElement("div");(0,o.setLoaderStyles)(e),this.loader=e,this.container.appendChild(e)}},{key:"addBoxShadow",value:function(){var e=document.createElement("div");(0,o.setBoxShadowStyles)(e,this.boxShadow),this.container.appendChild(e)}},{key:"removeLoader",value:function(){this.loader&&(this.container.removeChild(this.loader),this.loader=null)}},{key:"remove360ViewIcon",value:function(){this.view360Icon&&(this.container.removeChild(this.view360Icon),this.view360Icon=null)}},{key:"play",value:function(){var e=this;this.bottomCircle&&this.hide360ViewCircleIcon(),this.remove360ViewIcon(),this.loopTimeoutId=window.setInterval(function(){e.loop(e.reversed)},36*this.speed/this.amount)}},{key:"stop",value:function(){this.bottomCircle&&this.show360ViewCircleIcon(),window.clearTimeout(this.loopTimeoutId)}},{key:"init",value:function(e){var t=this,i=(0,o.get360ViewProps)(e),n=i.folder,r=i.filename,s=i.amount,a=i.draggable,c=void 0===a||a,l=i.swipeable,u=void 0===l||l,f=i.keys,h=i.bottomCircle,d=i.bottomCircleOffset,p=i.boxShadow,v=i.autoplay,y=i.speed,m=i.autoplayReverse,g=i.fullScreen,w=i.magnifier,b=i.ratio,x=i.responsive,I=i.ciToken,S=i.ciSize,k=i.ciOperation,C=i.ciFilters;[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(new Array(s))).map(function(i,a){var c=new Image,l=""+n+r.replace("{index}",a+1);if(x){var u=e.offsetWidth;if(t.fullScreenView){var f=t.container.offsetHeight/t.container.offsetWidth;t.ratio>f&&(u=t.container.offsetHeight/t.ratio)}var O=(0,o.getSizeAccordingToPixelRatio)(S||(0,o.getResponsiveWidthOfContainer)(u));c.src="https://"+I+".cloudimg.io/"+k+"/"+O+"/"+C+"/"+l}else c.src=l;if(c.style.height="auto",c.style.width="100%",c.style.display=0===a?"block":"none",c.onload=t.onImageLoad.bind(t),c.onerror=t.onImageLoad.bind(t),t.folder=n,t.filename=r,t.amount=s,t.bottomCircle=h,t.bottomCircleOffset=d,t.boxShadow=p,t.autoplay=v,t.speed=y,t.reversed=m,t.fullScreen=g,t.magnifier=w,e.style.position="relative",e.style.cursor="wait",t.fullScreenView){var E=document.createElement("div");(0,o.setFullScreenImageStyles)(E,c.src,a),e.appendChild(E)}else t.ratio=b,b&&(e.style.minHeight=e.offsetWidth*b+"px"),e.appendChild(c)}),c&&(e.addEventListener("mousedown",this.mousedown.bind(this)),e.addEventListener("mouseup",this.mouseup.bind(this)),e.addEventListener("mousemove",this.mousemove.bind(this))),u&&(e.addEventListener("touchstart",this.touchstart.bind(this)),e.addEventListener("touchend",this.touchend.bind(this)),e.addEventListener("touchmove",this.touchmove.bind(this))),f?(document.addEventListener("keydown",this.keydown.bind(this)),document.addEventListener("keyup",this.keyup.bind(this))):document.addEventListener("keydown",this.keydownGeneral.bind(this)),this.addLoader()}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return e.getAttribute(t)};t.get360ViewProps=function(e){return{folder:n(e,"folder")||n(e,"data-folder")||"/",filename:n(e,"filename")||n(e,"data-filename")||"image-{index}.jpg",amount:parseInt(n(e,"amount")||n(e,"data-amount")||36,10),speed:parseInt(n(e,"speed")||n(e,"data-speed")||150,10),keys:null!==n(e,"keys")||null!==n(e,"data-keys"),boxShadow:n(e,"box-shadow")||n(e,"data-box-shadow"),autoplay:null!==n(e,"autoplay")||null!==n(e,"data-autoplay"),autoplayReverse:null!==n(e,"autoplay-reverse")||null!==n(e,"data-autoplay-reverse"),bottomCircle:null!==n(e,"bottom-circle")||null!==n(e,"data-bottom-circle"),fullScreen:null!==n(e,"full-screen")||null!==n(e,"data-full-screen"),magnifier:(null!==n(e,"magnifier")||null!==n(e,"data-magnifier"))&&parseInt(n(e,"magnifier")||n(e,"data-magnifier"),10),bottomCircleOffset:parseInt(n(e,"bottom-circle-offset")||n(e,"data-bottom-circle-offset")||5,10),ratio:parseFloat(n(e,"ratio")||n(e,"data-ratio")||0)||!1,responsive:null!==n(e,"responsive")||null!==n(e,"data-responsive"),ciToken:n(e,"responsive")||n(e,"data-responsive")||"demo",ciSize:n(e,"size")||n(e,"data-size"),ciOperation:n(e,"operation")||n(e,"data-operation")||"width",ciFilters:n(e,"filters")||n(e,"data-filters")||"q35"}},t.set360ViewIconStyles=function(e){e.style.position="absolute",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.width="100px",e.style.height="100px",e.style.margin="auto",e.style.backgroundColor="rgba(255,255,255,0.8)",e.style.borderRadius="50%",e.style.boxShadow="rgb(255, 255, 255, 0.5) 0px 0px 4px",e.style.transition="0.5s all",e.style.color="rgb(80,80,80)",e.style.textAlign="center",e.style.lineHeight="100px"},t.set360ViewCircleIconStyles=function(e,t){e.src="https://scaleflex.ultrafast.io/https://scaleflex.api.airstore.io/v1/get/_/2236d56f-914a-5a8b-a3ae-f7bde1c50000/360.svg",e.style.position="absolute",e.style.top="auto",e.style.bottom=t+"%",e.style.left="0",e.style.right="0",e.style.width="80%",e.style.height="auto",e.style.margin="auto",e.style.transition="0.5s all"},t.setLoaderStyles=function(e){e.className="cloudimage-360-loader",e.style.position="absolute",e.style.zIndex="100",e.style.top="0",e.style.left="0",e.style.right="0",e.style.width="0%",e.style.height="8px",e.style.background="rgb(165,175,184)"},t.setBoxShadowStyles=function(e,t){e.className="cloudimage-360-box-shadow",e.style.position="absolute",e.style.zIndex="99",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.boxShadow=t},t.setView360Icon=function(e){e.style.background="rgba(255,255,255,0.8) url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/360_view.svg') 50% 50% / contain no-repeat"},t.setFullScreenImageStyles=function(e,t,i){e.style.background="url('"+t+"') 50% 50% / contain no-repeat",e.style.width="100%",e.style.height="100%",e.style.margin="auto",e.style.display=0===i?"block":"none"},t.magnify=function(e,t,i,n,o){var r=void 0,s=void 0,a=void 0;function c(t){var i,c=void 0,l=void 0;t.preventDefault(),i=function(t){var i=void 0,n=0,o=0;return t=t||window.event,i=e.getBoundingClientRect(),n=t.pageX-i.left,o=t.pageY-i.top,n-=window.pageXOffset,o-=window.pageYOffset,{x:n,y:o}}(t),c=i.x,l=i.y,c>e.offsetWidth-r/o&&(c=e.offsetWidth-r/o),c<r/o&&(c=r/o),l>e.offsetHeight-s/o&&(l=e.offsetHeight-s/o),l<s/o&&(l=s/o),n.style.left=c-r+"px",n.style.top=l-s+"px",n.style.backgroundPosition="-"+(c*o-r+a)+"px -"+(l*o-s+a)+"px"}n.setAttribute("class","img-magnifier-glass"),e.prepend(n),n.style.backgroundColor="#fff",n.style.backgroundImage="url('"+i+"')",n.style.backgroundRepeat="no-repeat",n.style.backgroundSize=e.offsetWidth*o+"px "+e.offsetHeight*o+"px",n.style.position="absolute",n.style.border="3px solid #000",n.style.borderRadius="50%",n.style.cursor="wait",n.style.lineHeight="200px",n.style.textAlign="center",n.style.zIndex="1000",n.style.width="250px",n.style.height="250px",n.style.top="-75px",n.style.right="-85px",a=3,r=n.offsetWidth/2,s=n.offsetHeight/2,n.addEventListener("mousemove",c),e.addEventListener("mousemove",c),n.addEventListener("touchmove",c),e.addEventListener("touchmove",c)},t.setMagnifyIconStyles=function(e,t){e.style.position="absolute",e.style.top=t?"35px":"5px",e.style.right="5px",e.style.width="25px",e.style.height="25px",e.style.zIndex="101",e.style.cursor="pointer",e.style.background="url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/loupe.svg') 50% 50% / cover no-repeat"},t.setFullScreenModalStyles=function(e){e.style.position="fixed",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="999",e.style.background="#fff"},t.setFullScreenIconStyles=function(e){e.style.position="absolute",e.style.top="5px",e.style.right="5px",e.style.width="25px",e.style.height="25px",e.style.zIndex="101",e.style.cursor="pointer",e.style.background="url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/full_screen.svg') 50% 50% / cover no-repeat"},t.setCloseFullScreenViewStyles=function(e){e.style.position="absolute",e.style.top="5px",e.style.right="5px",e.style.width="25px",e.style.height="25px",e.style.zIndex="101",e.style.cursor="pointer",e.style.background="url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/cross.svg') 50% 50% / cover no-repeat"},t.getResponsiveWidthOfContainer=function(e){return(t=e)<=25?"25":t<=50?"50":(100*Math.ceil(t/100)).toString();var t},t.getSizeAccordingToPixelRatio=function(e){var t=e.toString().split("x"),i=[];return[].forEach.call(t,function(e){i.push(e*Math.round(window.devicePixelRatio||1))}),i.join("x")}}]);